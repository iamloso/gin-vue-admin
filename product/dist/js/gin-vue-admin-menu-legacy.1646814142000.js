/*! 
 Build based on gin-vue-admin 
 Time : 1646814142000 */
!function(){function e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,l)}return n}function t(t){for(var l=1;l<arguments.length;l++){var a=null!=arguments[l]?arguments[l]:{};l%2?e(Object(a),!0).forEach((function(e){n(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):e(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t,n,l,a,u,r){try{var o=e[u](r),i=o.value}catch(c){return void n(c)}o.done?t(i):Promise.resolve(i).then(l,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,u){var r=e.apply(t,n);function o(e){l(r,a,u,o,i,"next",e)}function i(e){l(r,a,u,o,i,"throw",e)}o(void 0)}))}}var u=document.createElement("style");u.innerHTML=".warning[data-v-231f83dd]{color:#dc143c}.icon-column[data-v-231f83dd]{display:flex;align-items:center}.icon-column .el-icon[data-v-231f83dd]{margin-right:8px}\n",document.head.appendChild(u),System.register(["../gva/gin-vue-admin-index-legacy.1646814142000.js","./gin-vue-admin-icon-legacy.1646814142000.js","./gin-vue-admin-warningBar-legacy.1646814142000.js","./gin-vue-admin-vendor-legacy.1646814142000.js"],(function(e){"use strict";var n,l,u,r,o,i,c,d,f,p,s,m,v,h,b,g,y,w,V,k,_,x,I,D,j,O;return{setters:[function(e){n=e._,l=e.j,u=e.k,r=e.l,o=e.m,i=e.n},function(e){c=e.default},function(e){d=e.w},function(e){f=e.p,p=e.r,s=e.i,m=e.o,v=e.j,h=e.q,b=e.k,g=e.t,y=e.C,w=e.H,V=e.I,k=e.x,_=e.v,x=e.A,I=e.F,D=e.G,j=e.e,O=e.d}],execute:function(){var C=function(e){return I("data-v-231f83dd"),e=e(),D(),e},U={class:"gva-table-box"},P={class:"gva-btn-list"},z=x("新增根菜单"),R={class:"icon-column"},S=x("添加子菜单"),q=x("编辑"),A=x("删除"),T={style:{display:"inline-flex"}},M=x(" 路由Path "),E=x("添加参数"),N=C((function(){return h("span",{style:{"font-size":"12px","margin-right":"12px"}},"如果菜单包含子菜单，请创建router-view二级路由页面或者",-1)})),B=x("点我设置"),F=x("新增菜单参数"),H=x("删除"),G={class:"dialog-footer"},K=x("取 消"),L=x("确 定"),$={name:"Menus"},J=Object.assign($,{setup:function(e){var n=f({path:[{required:!0,message:"请输入菜单name",trigger:"blur"}],component:[{required:!0,message:"请输入文件路径",trigger:"blur"}],"meta.title":[{required:!0,message:"请输入菜单展示名称",trigger:"blur"}]}),x=p(1),I=p(0),D=p(999),C=p([]),$=p({}),J=function(){var e=a(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(t({page:x.value,pageSize:D.value},$.value));case 2:0===(n=e.sent).code&&(C.value=n.data.list,I.value=n.data.total,x.value=n.data.page,D.value=n.data.pageSize);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();J();var Q=p({ID:0,path:"",name:"",hidden:"",parentId:"",component:"",meta:{title:"",icon:"",defaultMenu:!1,closeTab:!1,keepAlive:!1},parameters:[]}),W=function(){Q.value.path=Q.value.name},X=function(e){ee(),e()},Y=p(null),Z=p(!1),ee=function(){Z.value=!1,Y.value.resetFields(),Q.value={ID:0,path:"",name:"",hidden:"",parentId:"",component:"",meta:{title:"",icon:"",defaultMenu:!1,keepAlive:""}}},te=p(!1),ne=function(){ee(),te.value=!1},le=function(){var e=a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Y.value.validate(function(){var e=a(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=13;break}if(!oe.value){e.next=7;break}return e.next=4,r(Q.value);case 4:n=e.sent,e.next=10;break;case 7:return e.next=9,o(Q.value);case 9:n=e.sent;case 10:0===n.code&&(O({type:"success",message:oe.value?"编辑成功":"添加成功!"}),J()),ee(),te.value=!1;case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=p([{ID:"0",title:"根菜单"}]),ue=function(){ae.value=[{ID:"0",title:"根目录"}],re(C.value,ae.value,!1)},re=function e(t,n,l){t&&t.forEach((function(t){if(t.children&&t.children.length){var a={title:t.meta.title,ID:String(t.ID),disabled:l||t.ID===Q.value.ID,children:[]};e(t.children,a.children,l||t.ID===Q.value.ID),n.push(a)}else{var u={title:t.meta.title,ID:String(t.ID),disabled:l||t.ID===Q.value.ID};n.push(u)}}))},oe=p(!1),ie=p("新增菜单"),ce=function(e){ie.value="新增菜单",Q.value.parentId=String(e),oe.value=!1,ue(),te.value=!0},de=function(){var e=a(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ie.value="编辑菜单",e.next=3,i({id:t});case 3:n=e.sent,Q.value=n.data.menu,oe.value=!0,ue(),te.value=!0;case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return function(e,t){var l=s("el-button"),r=s("el-table-column"),o=s("el-icon"),i=s("el-table"),f=s("el-input"),p=s("el-form-item"),I=s("el-checkbox"),D=s("el-option"),$=s("el-select"),ee=s("el-cascader"),ue=s("el-form"),re=s("el-dialog");return m(),v("div",null,[h("div",U,[h("div",P,[b(l,{size:"mini",type:"primary",icon:"plus",onClick:t[0]||(t[0]=function(e){return ce("0")})},{default:g((function(){return[z]})),_:1})]),b(i,{data:C.value,"row-key":"ID"},{default:g((function(){return[b(r,{align:"left",label:"ID","min-width":"100",prop:"ID"}),b(r,{align:"left",label:"路由Name","show-overflow-tooltip":"","min-width":"160",prop:"name"}),b(r,{align:"left",label:"路由Path","show-overflow-tooltip":"","min-width":"160",prop:"path"}),b(r,{align:"left",label:"是否隐藏","min-width":"100",prop:"hidden"},{default:g((function(e){return[h("span",null,y(e.row.hidden?"隐藏":"显示"),1)]})),_:1}),b(r,{align:"left",label:"父节点","min-width":"90",prop:"parentId"}),b(r,{align:"left",label:"排序","min-width":"70",prop:"sort"}),b(r,{align:"left",label:"文件路径","min-width":"360",prop:"component"}),b(r,{align:"left",label:"展示名称","min-width":"120",prop:"authorityName"},{default:g((function(e){return[h("span",null,y(e.row.meta.title),1)]})),_:1}),b(r,{align:"left",label:"图标","min-width":"140",prop:"authorityName"},{default:g((function(e){return[h("div",R,[b(o,null,{default:g((function(){return[(m(),w(V(e.row.meta.icon)))]})),_:2},1024),h("span",null,y(e.row.meta.icon),1)])]})),_:1}),b(r,{align:"left",fixed:"right",label:"操作",width:"300"},{default:g((function(e){return[b(l,{size:"mini",type:"text",icon:"plus",onClick:function(t){return ce(e.row.ID)}},{default:g((function(){return[S]})),_:2},1032,["onClick"]),b(l,{size:"mini",type:"text",icon:"edit",onClick:function(t){return de(e.row.ID)}},{default:g((function(){return[q]})),_:2},1032,["onClick"]),b(l,{size:"mini",type:"text",icon:"delete",onClick:function(t){return n=e.row.ID,void j.confirm("此操作将永久删除所有角色下该菜单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(a(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u({ID:n});case 2:0===e.sent.code&&(O({type:"success",message:"删除成功!"}),1===C.value.length&&x.value>1&&x.value--,J());case 4:case"end":return e.stop()}}),e)})))).catch((function(){O({type:"info",message:"已取消删除"})}));var n}},{default:g((function(){return[A]})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"])]),b(re,{modelValue:te.value,"onUpdate:modelValue":t[13]||(t[13]=function(e){return te.value=e}),"before-close":X,title:ie.value},{footer:g((function(){return[h("div",G,[b(l,{size:"small",onClick:ne},{default:g((function(){return[K]})),_:1}),b(l,{size:"small",type:"primary",onClick:le},{default:g((function(){return[L]})),_:1})])]})),default:g((function(){return[b(d,{title:"新增菜单，需要在角色管理内配置权限才可使用"}),te.value?(m(),w(ue,{key:0,ref_key:"menuForm",ref:Y,inline:!0,model:Q.value,rules:k(n),"label-position":"top","label-width":"85px"},{default:g((function(){return[b(p,{label:"路由Name",prop:"path",style:{width:"30%"}},{default:g((function(){return[b(f,{modelValue:Q.value.name,"onUpdate:modelValue":t[1]||(t[1]=function(e){return Q.value.name=e}),autocomplete:"off",placeholder:"唯一英文字符串",onChange:W},null,8,["modelValue"])]})),_:1}),b(p,{prop:"path",style:{width:"30%"}},{label:g((function(){return[h("div",T,[M,b(I,{modelValue:Z.value,"onUpdate:modelValue":t[2]||(t[2]=function(e){return Z.value=e}),style:{float:"right","margin-left":"20px"}},{default:g((function(){return[E]})),_:1},8,["modelValue"])])]})),default:g((function(){return[b(f,{modelValue:Q.value.path,"onUpdate:modelValue":t[3]||(t[3]=function(e){return Q.value.path=e}),disabled:!Z.value,autocomplete:"off",placeholder:"建议只在后方拼接参数"},null,8,["modelValue","disabled"])]})),_:1}),b(p,{label:"是否隐藏",style:{width:"30%"}},{default:g((function(){return[b($,{modelValue:Q.value.hidden,"onUpdate:modelValue":t[4]||(t[4]=function(e){return Q.value.hidden=e}),placeholder:"是否在列表隐藏"},{default:g((function(){return[b(D,{value:!1,label:"否"}),b(D,{value:!0,label:"是"})]})),_:1},8,["modelValue"])]})),_:1}),b(p,{label:"父节点ID",style:{width:"30%"}},{default:g((function(){return[b(ee,{modelValue:Q.value.parentId,"onUpdate:modelValue":t[5]||(t[5]=function(e){return Q.value.parentId=e}),style:{width:"100%"},disabled:!oe.value,options:ae.value,props:{checkStrictly:!0,label:"title",value:"ID",disabled:"disabled",emitPath:!1},"show-all-levels":!1,filterable:""},null,8,["modelValue","disabled","options"])]})),_:1}),b(p,{label:"文件路径",prop:"component",style:{width:"60%"}},{default:g((function(){return[b(f,{modelValue:Q.value.component,"onUpdate:modelValue":t[6]||(t[6]=function(e){return Q.value.component=e}),autocomplete:"off"},null,8,["modelValue"]),N,b(l,{size:"mini",onClick:t[7]||(t[7]=function(e){return Q.value.component="view/routerHolder.vue"})},{default:g((function(){return[B]})),_:1})]})),_:1}),b(p,{label:"展示名称",prop:"meta.title",style:{width:"30%"}},{default:g((function(){return[b(f,{modelValue:Q.value.meta.title,"onUpdate:modelValue":t[8]||(t[8]=function(e){return Q.value.meta.title=e}),autocomplete:"off"},null,8,["modelValue"])]})),_:1}),b(p,{label:"图标",prop:"meta.icon",style:{width:"30%"}},{default:g((function(){return[b(c,{meta:Q.value.meta,style:{width:"100%"}},null,8,["meta"])]})),_:1}),b(p,{label:"排序标记",prop:"sort",style:{width:"30%"}},{default:g((function(){return[b(f,{modelValue:Q.value.sort,"onUpdate:modelValue":t[9]||(t[9]=function(e){return Q.value.sort=e}),modelModifiers:{number:!0},autocomplete:"off"},null,8,["modelValue"])]})),_:1}),b(p,{label:"KeepAlive",prop:"meta.keepAlive",style:{width:"30%"}},{default:g((function(){return[b($,{modelValue:Q.value.meta.keepAlive,"onUpdate:modelValue":t[10]||(t[10]=function(e){return Q.value.meta.keepAlive=e}),style:{width:"100%"},placeholder:"是否keepAlive缓存页面"},{default:g((function(){return[b(D,{value:!1,label:"否"}),b(D,{value:!0,label:"是"})]})),_:1},8,["modelValue"])]})),_:1}),b(p,{label:"CloseTab",prop:"meta.closeTab",style:{width:"30%"}},{default:g((function(){return[b($,{modelValue:Q.value.meta.closeTab,"onUpdate:modelValue":t[11]||(t[11]=function(e){return Q.value.meta.closeTab=e}),style:{width:"100%"},placeholder:"是否自动关闭tab"},{default:g((function(){return[b(D,{value:!1,label:"否"}),b(D,{value:!0,label:"是"})]})),_:1},8,["modelValue"])]})),_:1})]})),_:1},8,["model","rules"])):_("",!0),h("div",null,[b(l,{size:"small",type:"primary",icon:"edit",onClick:t[12]||(t[12]=function(e){return function(e){e.parameters||(e.value.parameters=[]),e.parameters.push({type:"query",key:"",value:""})}(Q.value)})},{default:g((function(){return[F]})),_:1}),b(i,{data:Q.value.parameters,style:{width:"100%"}},{default:g((function(){return[b(r,{align:"left",prop:"type",label:"参数类型",width:"180"},{default:g((function(e){return[b($,{modelValue:e.row.type,"onUpdate:modelValue":function(t){return e.row.type=t},placeholder:"请选择"},{default:g((function(){return[b(D,{key:"query",value:"query",label:"query"}),b(D,{key:"params",value:"params",label:"params"})]})),_:2},1032,["modelValue","onUpdate:modelValue"])]})),_:1}),b(r,{align:"left",prop:"key",label:"参数key",width:"180"},{default:g((function(e){return[h("div",null,[b(f,{modelValue:e.row.key,"onUpdate:modelValue":function(t){return e.row.key=t}},null,8,["modelValue","onUpdate:modelValue"])])]})),_:1}),b(r,{align:"left",prop:"value",label:"参数值"},{default:g((function(e){return[h("div",null,[b(f,{modelValue:e.row.value,"onUpdate:modelValue":function(t){return e.row.value=t}},null,8,["modelValue","onUpdate:modelValue"])])]})),_:1}),b(r,{align:"left"},{default:g((function(e){return[h("div",null,[b(l,{type:"danger",size:"small",icon:"delete",onClick:function(t){return n=Q.value.parameters,l=e.$index,void n.splice(l,1);var n,l}},{default:g((function(){return[H]})),_:2},1032,["onClick"])])]})),_:1})]})),_:1},8,["data"])])]})),_:1},8,["modelValue","title"])])}}});e("default",n(J,[["__scopeId","data-v-231f83dd"]]))}}}))}();
