/*! 
 Build based on gin-vue-admin 
 Time : 1646814142000 */
var e=(e,a,l)=>new Promise(((t,i)=>{var s=e=>{try{n(l.next(e))}catch(a){i(a)}},o=e=>{try{n(l.throw(e))}catch(a){i(a)}},n=e=>e.done?t(e.value):Promise.resolve(e.value).then(s,o);n((l=l.apply(e,a)).next())}));import{u as a,U as l,r as t,O as i,g as s,P as o,i as n,R as u,o as d,H as r,t as m,k as c,s as v,q as f,j as p,C as g,M as h,x as y,v as _,T as x,K as k,A as w,J as b,S as I,L as j,I as C}from"./gin-vue-admin-vendor.1646814142000.js";import M from"./gin-vue-admin-index.164681414200010.js";import N from"./gin-vue-admin-history.1646814142000.js";import L from"./gin-vue-admin-search.1646814142000.js";import A from"./gin-vue-admin-bottomInfo.1646814142000.js";import{C as z}from"./gin-vue-admin-index.16468141420008.js";import P from"./gin-vue-admin-index.164681414200011.js";import{e as O,u as U,a as $,b as D}from"../gva/gin-vue-admin-index.1646814142000.js";import"./gin-vue-admin-index.164681414200012.js";import"./gin-vue-admin-menuItem.1646814142000.js";import"./gin-vue-admin-asyncSubmenu.1646814142000.js";import"./gin-vue-admin-index.164681414200013.js";const E=["src"],G={class:"right-box"},H={class:"dp-flex justify-content-center align-items height-full width-full"},R={class:"header-avatar",style:{cursor:"pointer"}},S={style:{"margin-left":"5px"}},T={style:{"font-weight":"600"}},V=w("个人信息"),q=w("登 出"),B={name:"Layout"},J=Object.assign(B,{setup(B){const J=a(),K=l(),W=t(!1),F=t(!0),Q=t(!1),X=()=>{const e=document.body.clientWidth;e<1e3?(Q.value=!0,F.value=!1,W.value=!0):e>=1e3&&e<1200?(Q.value=!1,F.value=!1,W.value=!0):(Q.value=!1,F.value=!0,W.value=!1)};X();const Y=t(!1);i((()=>{O.emit("collapse",W.value),O.emit("mobile",Q.value),O.on("reload",se),O.on("showLoading",(()=>{Y.value=!0})),O.on("closeLoading",(()=>{Y.value=!1})),window.onresize=()=>(X(),O.emit("collapse",W.value),void O.emit("mobile",Q.value))}));const Z=U(),ee=s((()=>"dark"===Z.sideMode?"#fff":"light"===Z.sideMode?"#191a23":Z.baseColor)),ae=s((()=>"dark"===Z.sideMode?"#191a23":"light"===Z.sideMode?"#fff":Z.sideMode)),le=s((()=>K.matched)),te=a=>e(this,null,(function*(){0===(yield D({authorityId:a})).code&&(O.emit("closeAllPage"),setTimeout((()=>{window.location.reload()}),1))})),ie=t(!0),se=()=>e(this,null,(function*(){ie.value=!1,yield o(),ie.value=!0})),oe=t(!1),ne=()=>{W.value=!W.value,F.value=!W.value,oe.value=!W.value,O.emit("collapse",W.value)},ue=()=>{J.push({name:"person"})};return(e,a)=>{const l=n("el-row"),t=n("el-aside"),i=n("expand"),s=n("el-icon"),o=n("fold"),O=n("el-col"),U=n("el-breadcrumb-item"),D=n("el-breadcrumb"),B=n("arrow-down"),J=n("el-dropdown-item"),K=n("el-dropdown-menu"),X=n("el-dropdown"),se=n("el-header"),de=n("router-view"),re=n("el-main"),me=n("el-container"),ce=u("loading");return d(),r(me,{class:"layout-cont"},{default:m((()=>[c(me,{class:v([F.value?"openside":"hideside",Q.value?"mobile":""])},{default:m((()=>[c(l,{class:v([oe.value?"shadowBg":""]),onClick:a[0]||(a[0]=e=>(oe.value=!oe.value,F.value=!!W.value,void ne()))},null,8,["class"]),c(t,{class:"main-cont main-left"},{default:m((()=>[f("div",{class:"tilte",style:h({background:y(ae)})},[f("img",{alt:"",class:"logoimg",src:e.$GIN_VUE_ADMIN.appLogo},null,8,E),F.value?(d(),p("h2",{key:0,class:"tit-text",style:h({color:y(ee)})},g(e.$GIN_VUE_ADMIN.appName),5)):_("",!0)],4),c(M,{class:"aside"})])),_:1}),c(re,{class:"main-cont main-right"},{default:m((()=>[c(x,{duration:{enter:800,leave:100},mode:"out-in",name:"el-fade-in-linear"},{default:m((()=>[f("div",{style:h({width:`calc(100% - ${Q.value?"0px":W.value?"54px":"220px"})`}),class:"topfix"},[c(l,null,{default:m((()=>[c(O,null,{default:m((()=>[c(se,{class:"header-cont"},{default:m((()=>[c(l,{class:"pd-0"},{default:m((()=>[c(O,{xs:2,lg:1,md:1,sm:1,xl:1,style:{"z-index":"100"}},{default:m((()=>[f("div",{class:"menu-total",onClick:ne},[W.value?(d(),r(s,{key:0,size:"24"},{default:m((()=>[c(i)])),_:1})):(d(),r(s,{key:1,size:"24"},{default:m((()=>[c(o)])),_:1}))])])),_:1}),c(O,{xs:10,lg:14,md:14,sm:9,xl:14,pull:1},{default:m((()=>[c(D,{class:"breadcrumb"},{default:m((()=>[(d(!0),p(b,null,k(y(le).slice(1,y(le).length),(e=>(d(),r(U,{key:e.path},{default:m((()=>[w(g(e.meta.title),1)])),_:2},1024)))),128))])),_:1})])),_:1}),c(O,{xs:12,lg:9,md:9,sm:14,xl:9},{default:m((()=>[f("div",G,[c(L),c(X,null,{dropdown:m((()=>[c(K,{class:"dropdown-group"},{default:m((()=>[c(J,null,{default:m((()=>[f("span",T," 当前角色："+g(y(Z).userInfo.authority.authorityName),1)])),_:1}),y(Z).userInfo.authorities?(d(!0),p(b,{key:0},k(y(Z).userInfo.authorities.filter((e=>e.authorityId!==y(Z).userInfo.authorityId)),(e=>(d(),r(J,{key:e.authorityId,onClick:a=>te(e.authorityId)},{default:m((()=>[f("span",null," 切换为："+g(e.authorityName),1)])),_:2},1032,["onClick"])))),128)):_("",!0),c(J,{icon:"avatar",onClick:ue},{default:m((()=>[V])),_:1}),c(J,{icon:"reading-lamp",onClick:y(Z).LoginOut},{default:m((()=>[q])),_:1},8,["onClick"])])),_:1})])),default:m((()=>[f("div",H,[f("span",R,[c(z),f("span",S,g(y(Z).userInfo.nickName),1),c(s,null,{default:m((()=>[c(B)])),_:1})])])])),_:1})])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),c(N,{ref:"layoutHistoryComponent"},null,512)],4)])),_:1}),ie.value?I((d(),r(de,{key:0,"element-loading-text":"正在加载中",class:"admin-box"},{default:m((({Component:e})=>[c(x,{mode:"out-in",name:"el-fade-in-linear"},{default:m((()=>[(d(),r(j,{include:y($).keepAliveRouters},[(d(),r(C(e)))],1032,["include"]))])),_:2},1024)])),_:1})),[[ce,Y.value]]):_("",!0),c(A),c(P)])),_:1})])),_:1},8,["class"])])),_:1})}}});export{J as default};
